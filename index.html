<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Aura Clock — Horizontal Toggles</title>
    <style>
        :root {
            --toggle-w: clamp(3.2rem, 11vw, 4.5rem);
            --toggle-h: calc(var(--toggle-w) / 2);
            --knob-size: calc(var(--toggle-h) - 10px);
            --transition: all 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        @keyframes breathe {

            0%,
            100% {
                text-shadow: 0 0 20px rgba(255, 255, 255, .25), 0 0 40px rgba(106, 17, 203, .6), 0 0 60px rgba(37, 117, 252, .6);
            }

            50% {
                text-shadow: 0 0 30px rgba(255, 255, 255, .4), 0 0 60px rgba(106, 17, 203, .8), 0 0 90px rgba(37, 117, 252, .8);
            }
        }

        body {
            margin: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: system-ui, -apple-system, sans-serif;
            background: radial-gradient(circle at center, #6a11cb, #2575fc);
            color: white;
            transition: background 0.6s ease;
            overflow: hidden;
        }

        body.dark {
            background: radial-gradient(circle at center, #0f172a, #1e293b);
            color: #e2e8f0;
        }

        #app {
            position: relative;
            text-align: center;
            padding: 2rem;
            max-width: 90vw;
        }

        .clock {
            font-size: clamp(3rem, 12vw, 10rem);
            font-weight: 800;
            line-height: 1.15;
            user-select: none;
        }

        #time {
            text-shadow: 0 0 20px rgba(255, 255, 255, .25), 0 0 40px rgba(106, 17, 203, .6), 0 0 60px rgba(37, 117, 252, .6);
            animation: breathe 8s ease-in-out infinite;
        }

        body.dark #time {
            text-shadow: none;
            animation: none;
        }

        #date {
            font-size: 0.26em;
            font-weight: 600;
            opacity: 0.9;
            margin-top: 0.2em;
        }

        /* ─── Horizontal Toggle ─── */
        .toggle {
            position: fixed;
            width: var(--toggle-w);
            height: var(--toggle-h);
            z-index: 10;
            cursor: pointer;
            user-select: none;
        }

        .theme-toggle {
            top: 20px;
            right: 20px;
        }

        .clock-toggle {
            top: 20px;
            left: 20px;
        }

        .toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .track {
            position: absolute;
            inset: 0;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.3);
            box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.2);
            transition: var(--transition);
        }

        body.dark .track {
            background: rgba(255, 255, 255, 0.1);
            box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.4);
        }

        .toggle input:checked+.track {
            background: rgba(59, 130, 246, 0.5);
        }

        body.dark .toggle input:checked+.track {
            background: rgba(99, 102, 241, 0.5);
        }

        .knob {
            position: absolute;
            top: 50%;
            left: 5px;
            width: var(--knob-size);
            height: var(--knob-size);
            border-radius: 50%;
            background: white;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            transform: translateY(-50%);
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 0.65em;
            color: #1e293b;
        }

        body.dark .knob {
            background: #e2e8f0;
            color: #1e293b;
        }

        .toggle input:checked+.track .knob {
            transform: translateX(calc(var(--toggle-w) - var(--knob-size) - 10px)) translateY(-50%);
        }

        .icon {
            width: 60%;
            height: 60%;
            pointer-events: none;
        }

        .sun {
            fill: #f59e0b;
            filter: drop-shadow(0 0 6px #fbbf24);
        }

        .moon {
            fill: #ffffff;
        }

        body.dark .sun,
        body:not(.dark) .moon {
            display: none;
        }

        /* Fullscreen Button */
        #fullscreenBtn {
            position: fixed;
            bottom: 24px;
            right: 24px;
            background: none;
            border: none;
            padding: 12px;
            cursor: pointer;
            z-index: 30;
        }

        #fullscreenBtn:hover {
            transform: scale(1.2);
        }

        .fullscreen-icon {
            width: 36px;
            height: 36px;
            fill: white;
            filter: drop-shadow(0 3px 8px rgba(0, 0, 0, 0.5));
        }

        body.dark .fullscreen-icon {
            filter: drop-shadow(0 3px 10px rgba(0, 0, 0, 0.7));
        }

        .compress {
            display: none;
        }

        .fullscreen-compress .compress {
            display: block;
        }

        .fullscreen-compress .expand {
            display: none;
        }
    </style>
</head>

<body>

    <div id="app">
        <div class="clock" role="timer" aria-live="polite">
            <div id="time"></div>
            <div id="date"></div>
        </div>
    </div>

    <!-- Theme Toggle (Sun/Moon) -->
    <label class="toggle theme-toggle" aria-label="Toggle dark mode">
        <input type="checkbox" id="mode" />
        <div class="track">
            <div class="knob">
                <svg class="icon sun" viewBox="0 0 24 24">
                    <circle cx="12" cy="12" r="6" />
                    <path
                        d="M12 5V3m0 18v-2m7.07-7.07l1.42-1.42m-12.72 0L6.35 9.35m12.72 5.36l-1.42 1.42M7.65 16.35l-1.42-1.42m0-9.9l1.42-1.42m9.9 12.72l1.42 1.42" />
                </svg>
                <svg class="icon moon" viewBox="0 0 24 24">
                    <path d="M12.12 3A7.5 7.5 0 0 0 4.5 12.12a7.5 7.5 0 0 0 14.76 2.18 7 7 0 0 1-7.14-9.3z" />
                </svg>
            </div>
        </div>
    </label>

    <!-- 12/24 Hour Toggle -->
    <label class="toggle clock-toggle" aria-label="Toggle 12/24 hour format">
        <input type="checkbox" id="clockFormat" />
        <div class="track">
            <div class="knob" id="clockLabel">12H</div>
        </div>
    </label>

    <!-- Fullscreen Button -->
    <button id="fullscreenBtn" aria-label="Toggle fullscreen">
        <svg class="fullscreen-icon" viewBox="0 0 24 24">
            <path class="expand" d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z" />
            <path class="compress" d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z" />
        </svg>
    </button>

    <script>
        // Theme
        const themeToggle = document.getElementById('mode');
        if (localStorage.getItem('theme') === 'dark') {
            document.body.classList.add('dark');
            themeToggle.checked = true;
        }
        themeToggle.addEventListener('change', () => {
            const isDark = themeToggle.checked;
            document.body.classList.toggle('dark', isDark);
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        });

        // Clock Format
        let is24 = localStorage.getItem('clockFormat') === '24';
        const clockToggle = document.getElementById('clockFormat');
        const clockLabel = document.getElementById('clockLabel');
        clockToggle.checked = is24;
        clockLabel.textContent = is24 ? '24H' : '12H';

        clockToggle.addEventListener('change', () => {
            is24 = clockToggle.checked;
            localStorage.setItem('clockFormat', is24 ? '24' : '12');
            clockLabel.textContent = is24 ? '24H' : '12H';
            updateTime();
        });

        // Update Time
        function updateTime() {
            const now = new Date();
            const hours = now.getHours();
            const mins = String(now.getMinutes()).padStart(2, '0');
            const secs = String(now.getSeconds()).padStart(2, '0');
            const ampm = hours >= 12 ? ' PM' : ' AM';

            const displayHours = is24 ? hours : (hours % 12 || 12);
            const timeStr = is24
                ? `${String(hours).padStart(2, '0')}:${mins}:${secs}`
                : `${displayHours}:${mins}:${secs}${ampm}`;

            const dateStr = now.toLocaleDateString('en-US', {
                weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'
            });

            document.getElementById('time').textContent = timeStr;
            document.getElementById('date').textContent = dateStr;
        }

        setInterval(updateTime, 1000);
        updateTime();

        // Double-click clock → fullscreen
        document.querySelector('.clock').addEventListener('dblclick', () => {
            document.documentElement.requestFullscreen?.();
        });

        // Fullscreen button
        const fsBtn = document.getElementById('fullscreenBtn');
        function updateFSIcon() {
            const isFS = document.fullscreenElement || document.webkitFullscreenElement;
            fsBtn.classList.toggle('fullscreen-compress', isFS);
        }

        fsBtn.addEventListener('click', () => {
            if (document.fullscreenElement) {
                document.exitFullscreen();
            } else {
                document.documentElement.requestFullscreen();
            }
        });

        document.addEventListener('fullscreenchange', updateFSIcon);
        updateFSIcon();

        // Hide fullscreen button in Notion iframe
        if (window.self !== window.top) {
            fsBtn.style.display = 'none';
        }
    </script>
</body>

</html>

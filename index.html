<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Aura Clock — Vertical Toggles</title>
    <style>
        :root {
            --scale: clamp(3rem, 12vw, 10rem);
            --track-w: calc(var(--scale)/2.5);
            /* narrow width */
            --track-h: var(--scale);
            /* tall height */
            --knob-size: calc(var(--scale)/2.8);
            --knob-offset: 8px;
        }

        @keyframes breathe {

            0%,
            100% {
                text-shadow:
                    0 0 20px rgba(255, 255, 255, .25),
                    0 0 40px rgba(106, 17, 203, .6),
                    0 0 60px rgba(37, 117, 252, .6);
            }

            50% {
                text-shadow:
                    0 0 30px rgba(255, 255, 255, .4),
                    0 0 60px rgba(106, 17, 203, .8),
                    0 0 90px rgba(37, 117, 252, .8);
            }
        }

        body {
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: system-ui, -apple-system, Arial, sans-serif;
            background: radial-gradient(circle at center, #6a11cb, #2575fc);
            color: white;
            transition: background .6s ease, color .6s ease;
            overflow: hidden;
        }

        body.dark {
            background: radial-gradient(circle at center, #0f172a, #1e293b);
            color: #e2e8f0;
        }

        #app {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        #clock {
            font-size: clamp(3rem, 12vw, 10rem);
            font-weight: 800;
            text-align: center;
            line-height: 1.15;
            white-space: pre-line;
        }

        #time {
            text-shadow:
                0 0 20px rgba(255, 255, 255, .25),
                0 0 40px rgba(106, 17, 203, .6),
                0 0 60px rgba(37, 117, 252, .6);
            animation: breathe 8s ease-in-out infinite;
        }

        #date {
            font-size: 0.26em;
            font-weight: 600;
            opacity: 0.9;
            margin-top: 0.2em;
        }

        body.dark #time,
        body.dark #date {
            text-shadow: none;
            animation: none;
        }

        .toggle {
            position: fixed;
            width: var(--track-w);
            height: var(--track-h);
            min-width: 56px;
            min-height: 56px;
            cursor: pointer;
            user-select: none;
            z-index: 10;
        }

        /* Positions */
        .theme-toggle {
            top: 20px;
            right: 20px;
        }

        .clock-toggle {
            top: 20px;
            left: 20px;
        }

        .toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        /* Vertical track gradient and shadows */
        .track,
        .clock-track,
        .alarm-track {
            position: absolute;
            inset: 0;
            border-radius: 50px;
            transition: all .6s cubic-bezier(.2, .8, .4, 1);
            background: linear-gradient(to bottom, #ffffff 0%, #e2e8f0 100%);
            box-shadow:
                inset 0 10px 18px rgba(255, 255, 255, 0.85),
                /* top highlight */
                inset 0 -12px 22px rgba(163, 177, 198, 0.55),
                /* bottom shadow */
                0 20px 40px rgba(0, 0, 0, 0.15);
            /* outer shadow */
        }

        body.dark .track,
        body.dark .clock-track,
        body.dark .alarm-track {
            background: linear-gradient(to bottom, #334155 0%, #1e293b 100%);
            box-shadow:
                inset 0 10px 18px rgba(255, 255, 255, 0.08),
                inset 0 -12px 22px rgba(0, 0, 0, 0.55),
                0 20px 40px rgba(0, 0, 0, 0.40);
        }

        /* Knob centered horizontally, moves vertically */
        .knob,
        .clock-knob,
        .alarm-knob {
            position: absolute;
            top: var(--knob-offset);
            left: 50%;
            transform: translateX(-50%);
            width: var(--knob-size);
            height: var(--knob-size);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all .6s cubic-bezier(.2, .8, .4, 1);
            background: linear-gradient(to bottom, #ffffff, #f1f5f9);
            box-shadow:
                0 10px 20px rgba(0, 0, 0, .20),
                /* drop shadow */
                inset 0 6px 12px rgba(255, 255, 255, .85),
                /* top inner highlight */
                inset 0 -6px 12px rgba(0, 0, 0, .12);
            /* bottom inner shadow */
            color: #1f2937;
            font-weight: 800;
            font-size: calc(var(--scale)/8);
        }

        body.dark .knob,
        body.dark .clock-knob,
        body.dark .alarm-knob {
            background: linear-gradient(to bottom, #334155, #1e293b);
            box-shadow:
                0 10px 20px rgba(0, 0, 0, .40),
                inset 0 6px 12px rgba(255, 255, 255, .10),
                inset 0 -6px 12px rgba(0, 0, 0, .30);
            color: #e2e8f0;
        }

        /* Checked state: move knob to bottom */
        .theme-toggle input:checked+.track .knob,
        .clock-toggle input:checked+.clock-track .clock-knob,
        .alarm-toggle input:checked+.alarm-track .alarm-knob {
            transform: translateX(-50%) translateY(calc(var(--track-h) - var(--knob-size) - var(--knob-offset)*2));
        }

        /* Fullscreen button */
        .fullscreen-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: transparent;
            border: none;
            padding: 0;
            width: 64px;
            height: 64px;
            z-index: 30;
            cursor: pointer;
            transition: transform .3s ease;
        }

        .fullscreen-toggle:hover {
            transform: scale(1.15);
        }

        .fullscreen-icon {
            width: 38px;
            height: 38px;
            fill: white;
            filter: drop-shadow(0 3px 8px rgba(0, 0, 0, .4));
        }

        body.dark .fullscreen-icon {
            filter: drop-shadow(0 3px 10px rgba(0, 0, 0, .6));
        }

        .compress {
            display: none;
        }

        .icon {
            width: 60%;
            height: 60%;
        }

        /* Sun: bright yellow with glow */
        .sun {
            fill: #f59e0b;
            /* amber/yellow */
            filter: drop-shadow(0 0 12px #fbbf24);
        }

        /* Moon: pure white */
        .moon {
            fill: #ffffff;
        }

        /* Show only sun in light mode */
        body:not(.dark) .moon {
            display: none;
        }

        /* Show only moon in dark mode */
        body.dark .sun {
            display: none;
        }
    </style>
</head>

<body>
    <div id="app">
        <div id="clock" role="timer" aria-live="polite" aria-atomic="true">
            <span id="time"></span><br><span id="date"></span>
        </div>

        <!-- Theme toggle (vertical) -->
        <label class="toggle theme-toggle" aria-label="Toggle dark mode">
            <input type="checkbox" id="mode" />
            <div class="track">
                <div class="knob">
                    <!-- Sun icon (light mode) -->
                    <svg class="icon sun" viewBox="0 0 24 24">
                        <circle cx="12" cy="12" r="6" />
                        <path
                            d="M12 5V3m0 18v-2m7.07-7.07l1.42-1.42m-12.72 0L6.35 9.35m12.72 5.36l-1.42 1.42M7.65 16.35l-1.42-1.42m0-9.9l1.42-1.42m9.9 12.72l1.42 1.42" />
                    </svg>
                    <!-- Moon icon (dark mode) -->
                    <svg class="icon moon" viewBox="0 0 24 24">
                        <path d="M12.12 3A7.5 7.5 0 0 0 4.5 12.12a7.5 7.5 0 0 0 14.76 2.18 7 7 0 0 1-7.14-9.3z" />
                    </svg>
                </div>
            </div>
        </label>

        <!-- 12/24h toggle (vertical) -->
        <label class="toggle clock-toggle" aria-label="Toggle 12/24 hour format">
            <input type="checkbox" id="clockFormat" />
            <div class="clock-track">
                <div class="clock-knob">12H</div>
            </div>
        </label>

        <!-- Fullscreen → Bottom-right -->
        <button id="fullscreenBtn" class="fullscreen-toggle" aria-label="Enter fullscreen">
            <svg class="fullscreen-icon" viewBox="0 0 24 24">
                <path class="expand"
                    d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z" />
                <path class="compress"
                    d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z" />
            </svg>
        </button>
    </div>

    <script>
        /* Theme */
        const t = document.getElementById('mode');
        if (localStorage.getItem('theme') === 'dark') {
            document.body.classList.add('dark');
            t.checked = true;
        }
        t.addEventListener('change', () => {
            const d = t.checked;
            document.body.classList.toggle('dark', d);
            localStorage.setItem('theme', d ? 'dark' : 'light');
        });

        /* Clock + Date */
        let is24 = localStorage.getItem('clockFormat') === '24';
        const clockToggleInput = document.getElementById('clockFormat');
        clockToggleInput.checked = is24;
        const clockKnob = document.querySelector('.clock-knob');

        function renderClockLabel() {
            clockKnob.textContent = is24 ? '24H' : '12H';
        }

        function update() {
            const n = new Date();
            let h = n.getHours();
            const m = String(n.getMinutes()).padStart(2, '0');
            const s = String(n.getSeconds()).padStart(2, '0');
            const time = is24
                ? `${String(h).padStart(2, '0')}:${m}:${s}`
                : `${(h % 12 || 12)}:${m}:${s}${h >= 12 ? ' PM' : ' AM'}`;
            const date = n.toLocaleDateString('en-US', {
                weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'
            });
            document.getElementById('time').textContent = time;
            document.getElementById('date').textContent = date;
        }

        setInterval(update, 1000);
        update();
        renderClockLabel();

        clockToggleInput.addEventListener('change', () => {
            is24 = !is24;
            localStorage.setItem('clockFormat', is24 ? '24' : '12');
            renderClockLabel();
            update();
        });

        /* Fullscreen */
        const fs = document.getElementById('fullscreenBtn');
        function updateFSIcon() {
            const f = !!document.fullscreenElement || !!document.webkitFullscreenElement;
            document.querySelector('.expand').style.display = f ? 'none' : 'block';
            document.querySelector('.compress').style.display = f ? 'block' : 'none';
        }

        fs.addEventListener('click', () => {
            const docEl = document.documentElement;
            const enter = docEl.requestFullscreen || docEl.webkitRequestFullscreen;
            const exit = document.exitFullscreen || document.webkitExitFullscreen;
            if (!!document.fullscreenElement || !!document.webkitFullscreenElement) {
                exit.call(document);
            } else {
                enter.call(docEl);
            }
        });

        document.addEventListener('fullscreenchange', updateFSIcon);
        document.addEventListener('webkitfullscreenchange', updateFSIcon);
        updateFSIcon();

        /* Hide fullscreen button in Notion iframe */
        if (window.self !== window.top) fs.style.display = 'none';
    </script>
</body>

</html>
